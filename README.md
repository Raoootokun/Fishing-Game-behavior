# 釣り大会 仕様書
------------------------------------------------------------------------------------------


## 管理 
------------------------------------------------------------------------------------------
### スコアボード
- fg_point ... ポイント管理

### タグ
- fg_join - 参加中
- fg_play - プレイ中
- [No Tags] - 非参加

上のいずれかのタグが一つついている。それで状態を判別
------------------------------------------------------------------------------------------

プロパティを参照し、状態を判別
タグはプロパティを参照する
コマンド側からタグを操作し、状態を変更することはできない。




変更前
-------- 確率(%) / ポイント ------- 
タラ  |    60    |    10
サケ  |    25    |    15
熱帯魚|    2     |    25
フグ  |    13    |    30
-----------------------------------

変更後
-------- 確率(%) / ポイント ------- 
タラ  |    50    |    10
サケ  |    30    |    15
熱帯魚|    15    |    25
フグ  |    5    |    30
-----------------------------------


ワールド退出、死亡は途中退出とみなす。


# 基本
--------------------------------------------------
1. 初期化
  - オブジェクトの作成/初期化、各魚のポイントの設定をします。(プレイ前に絶対実行して)
  - `/function fishinggame/init`

2. 参加
  - プレイヤーを参加状態にします。
  - tag: fg_joinを付与、ポイントを初期化
  - `/function fishinggame/join` (プレイヤーに実行)

3. 開始
  - 参加状態のプレイヤーをプレイ状態にします。
  - tag: fg_playを付与、釣り竿を付与
  - `/function fishinggame/play` (プレイヤーに実行)

4. ポイント
  - 釣ったアイテムに紐づけされたポイントを取得します(#ポイント一覧)
  - 釣ったアイテム・取得ポイントは プレイ状態 のプレイヤーに通知されます。

90. ポイント・時間の設定
  - 設定フォームから 各魚のポイント、時間を設定できます。
  - `/function fishinggame/setting` (プレイヤーに実行)

91. 退出
  - 参加/プレイ状態のプレイヤーを非参加状態にします。
  - tag: fg_play、fg_joinを削除、釣り竿を回収
  - `/function fishinggame/exit` (プレイヤーに実行)

92. ワールド退出/死亡
  - ワールド退出/死亡した際は 退出判定 となります。
  - ワールド参加時/リスポーン時に #メイン.91 の処理を実行します。


# 注意事項
- タグはコマンド側で状態を確認できる用です。コマンドで タグ(fg_join、fg_play) を削除しないこと。エラーで処理が止まる可能性があります。ゲームを退出する場合は #基本.99 から行ってください。

# ポイント一覧
(デフォルトのポイント)
|魚|ポイント|
|タラ|50|
|サケ|30|
|カクレクマノミ|15|
|フグ|5|
|その他|0|